;;;;;;;;;;;;;;;;;;;;;
; FPM Configuration ;
;;;;;;;;;;;;;;;;;;;;;

pid = {{ php_fpm_socket_dir }}/php5-fpm.pid
error_log = /data/log/php-error.log
log_level = warning
daemonize = yes

[www]
user = {{ web_user }}
group = {{ web_user }}
listen = {{ php_fpm_socket_dir }}/php5-fpm.sock
listen.owner = {{ web_user }}
listen.group = {{ web_user }}
listen.mode = 0660
pm = dynamic
pm.max_children = 25
pm.start_servers = 1
pm.min_spare_servers = 1
pm.max_spare_servers = 5
; Restart PHP threads at regular intervals to clear memory. This is an easier
; solution than figuring out what PHP code leaks memory and touching customer's
; sites code.
pm.max_requests = 200
